 

# 位、字节、字

* 位：计算机最小存储单元。

* 字节：计算机中常用的存储单位，几乎所有计算机内的1字节由8位组成。

* 字：计算机中的自然存储单位，详情请参考[维基百科](https://www.wikiwand.com/en/Word_(computer_architecture))。字的长度（位数）一般与CPU的数据总线的宽度有关，一般是相等关系。





# 多种整型

## 关于各种整型所占用的字节数

**C语言只规定了short所占用的字节数不能多于int, 而long所占用的字节数不能少于int。**
在16位、32位、64位机器上所占用的字节数为：

|机器位数|short|int|long|long long|
|---|---|---|---|---|
|16|2|2|4|8|
|32|2|4|4|8|
|64|2|4|8|8|

从上表中可以看出，**long long**类型不受平台的限制。



## 类型后缀

对于long类型，可以使用l or L表明这是一个long int型的数。类似，所有可能的类型后缀如下所示：

* long: 3l, 4L
* unsigned long: 3ul, 4lu, 5UL, 6LU
* long long: 3ll, 4LL
* unsigned long long: 3ull, 4llu, 5ULL, 6LLU



# 其他未分类问题



C语言中传参时，short会被编译器转为int。

注意，对于char类型，如下赋值是正确的，只是编译器可能会给出警告：

```c
char c = 'BABE';
printf("%d\n", c);
```

输出结果为69,即表示c的值为E, 也就是说单引号内部的值占据多个字节时，取最后一个字节的值。

同样，下面例子输出-119, <font color="deeppink">但是为什么是-199呢？</font>：

```c
char c = '张三';
printf("%d\n", c);
```

八进制表示字符时，可以省略转移字符标识后面的0，比如：

```c
char c = '\27';
printf("%d\n", c);
```

输出结果为23。



C标准并没有规定char类型是否有无符号，具体看编译器的实现。



## 浮点数

C标准保证long double类型至少比double的存储位数大，后者在32或64位机器上都占8个字节，前者在32位机器上占有12为，在64位机器上占有16位（gcc）。

C语言中字面浮点数默认为double类型的。

```c
float f = 3.14 * 4;
```

上面这个表达式首先进行两个double类型的数据运算，然后调用类型转换指令将其截取为float类型的，这样通常会降低效率，所以对于空间要求不是太高的程序，可以直接使用double; 或者是在数值后面添加后缀，float类型后面加f或F, long double后面加l或L。



# 类型检测

C语言在这方面不太严格，具体还是要根据编译器。特别注意的是，将某种类型的数据赋值给其他类型的变量，可能导致精度丢失。





# printf与缓冲区

C标准规定了在以下几种情况下，printf缓冲区会被刷新：

* 缓冲区满
* 遇见换行符
* 需要输入

另外，fflush也可以刷新缓冲区，<font color="deeppink">后面补充。</font>



   